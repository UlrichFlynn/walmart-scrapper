<%- include('../partials/header') -%>


<div class="col-9">
    <div class="container p-3">
        <h1 class="my-4">Dashboard</h1>
        <%- include('../partials/messages') -%>

        <% let total = instock = outofstock = pricechanged = backinstock = updated = notupdated = 0 %>
        <% product.forEach((pro) => { %>
        <%    total++ %>
        <%    if(pro.newstock === "In stock") { %>
        <%        instock++ %>
        <%    } %>
        <%    if(pro.newstock === "Out of Stock") { %>
        <%        outofstock++ %>
        <%    } %>
        <%    if(pro.newprice === pro.oldprice) { %>
        <%        pricechanged++ %>
        <%    } %>
        <%    if(pro.oldstock === "Out of Stock" && pro.newstock === "In stock") { %>
        <%        backinstock++ %>
        <%    } %>
        <%    if(pro.updatestatus === "Updated") { %>
        <%        updated++ %>
        <%    } %>
        <%    if(pro.updatestatus === "Not Updated") { %>
        <%        notupdated++ %>
        <%    } %>
        <% }) %>

        <div class="row">
            <div class="col-xl-12 col-sm-12 mb-3">
                <div class="card text-white bg-primary o-hidden h-100">
                    <div class="card-body">
                        <div class="text-center card-font-size">Total Products <br><b><%= total %></b>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Card starts here  -->

        <div class="row">
            <div class="col-xl-3 col-sm-6 mb-3">
                <div class="card text-white bg-success o-hidden h-100">
                    <div class="card-body">
                        <div class="text-center card-font-size">In Stock <br><b><%= instock %></b></div>
                    </div>
                    <a href="/product/instock" class="card-footer text-white clearfix small z-1">
                        <span class="float-left">View Details</span>
                        <span class="float-right">
                            <i class="fas fa-angle-right"></i>
                        </span>
                    </a>
                </div>
            </div>

            <div class="col-xl-3 col-sm-6 mb-3">
                <div class="card text-white bg-danger o-hidden h-100">
                    <div class="card-body">
                        <div class="text-center card-font-size">Out Of Stock <br><b><%= outofstock %></b></div>
                    </div>
                    <a href="/product/outofstock" class="card-footer text-white clearfix small z-1">
                        <span class="float-left">View Details</span>
                        <span class="float-right">
                            <i class="fas fa-angle-right"></i>
                        </span>
                    </a>
                </div>
            </div>

            <div class="col-xl-3 col-sm-6 mb-3">
                <div class="card text-white bg-info o-hidden h-100">
                    <div class="card-body">
                        <div class="text-center card-font-size">Price Changed <br><b><%= pricechanged %></b></div>
                    </div>
                    <a href="/product/pricechanged" class="card-footer text-white clearfix small z-1">
                        <span class="float-left">View Details</span>
                        <span class="float-right">
                            <i class="fas fa-angle-right"></i>
                        </span>
                    </a>
                </div>
            </div>

            <div class="col-xl-3 col-sm-6 mb-3">
                <div class="card text-white bg-warning o-hidden h-100">
                    <div class="card-body">
                        <div class="text-center card-font-size">Back In Stock <br><b><%= backinstock %></b></div>
                    </div>
                    <a href="/product/backinstock" class="card-footer text-white clearfix small z-1">
                        <span class="float-left">View Details</span>
                        <span class="float-right">
                            <i class="fas fa-angle-right"></i>
                        </span>
                    </a>
                </div>
            </div>

        </div>

        <!-- Update Card starts here -->

        <h1 class="my-5">Products Update Information</h1>

        <div class="row">
            <div class="col-xl-6 col-sm-6 mb-3">
                <div class="card text-white bg-success o-hidden h-100">
                    <div class="card-body">
                        <div class="text-center card-font-size">Updated Products <br><b><%= updated %></b></div>
                    </div>
                    <a href="/product/updated" class="card-footer text-white clearfix small z-1">
                        <span class="float-left">View Details</span>
                        <span class="float-right">
                            <i class="fas fa-angle-right"></i>
                        </span>
                    </a>
                </div>
            </div>

            <div class="col-xl-6 col-sm-6 mb-3">
                <div class="card text-white bg-danger o-hidden h-100">
                    <div class="card-body">
                        <div class="text-center card-font-size">Not Updated Products <br><b><%= notupdated %></b></div>
                    </div>
                    <a href="/product/notupdated" class="card-footer text-white clearfix small z-1">
                        <span class="float-left">View Details</span>
                        <span class="float-right">
                            <i class="fas fa-angle-right"></i>
                        </span>
                    </a>
                </div>
            </div>

        </div>

    </div>
</div>


<%- include('../partials/footer') -%>